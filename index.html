<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ROAD TO TOYROCK INVASION</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0f172a;
  --card:#1e1b2e;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#facc15;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  background:linear-gradient(180deg,#020617,#0f172a);
  color:var(--text);
}
header{
  text-align:center;
  padding:48px 16px 24px;
}
h1{
  margin:0;
  font-size:clamp(28px,5vw,42px);
}
#countdown{
  font-size:28px;
  margin-top:16px;
  letter-spacing:2px;
}
.desc{
  max-width:900px;
  margin:24px auto 0;
  color:var(--muted);
  font-size:14px;
  line-height:1.7;
}
.rules{
  margin-top:12px;
}
main{
  display:flex;
  gap:16px;
  padding:24px;
}
section{
  background:var(--card);
  border-radius:16px;
  padding:20px;
  flex:1;
  min-width:0;
}
h2{
  margin-top:0;
  font-size:20px;
}
button{
  background:var(--accent);
  color:#000;
  border:none;
  border-radius:999px;
  padding:8px 14px;
  font-weight:700;
  cursor:pointer;
}
button.secondary{
  background:#334155;
  color:#fff;
}
select,input{
  width:100%;
  padding:8px;
  border-radius:8px;
  border:none;
  margin:6px 0;
}
.album{
  margin-bottom:10px;
}
.album summary{
  cursor:pointer;
  font-weight:700;
}
.song{
  display:flex;
  align-items:center;
  gap:6px;
  padding:4px 0;
}
small{color:var(--muted)}
@media(max-width:900px){
  main{flex-direction:column}
}
</style>
</head>

<body>

<header>
  <h1>ROAD TO TOYROCK INVASION</h1>
  <div id="countdown"></div>

  <div class="desc">
    このページはロックバンドtoybeeの2026/3/22(日)＠恵比寿リキッドルーム ワンマンライブの成功を祈念して、toybeeファンが作成したものです。<br>
    ※toybee公式とは関係ありませんのでご留意ください。
    <div class="rules">
      ・1日1人5票まで<br>
      ・過去の履歴も含めてマイセトリを最大20曲まで作成可能<br>
      ・ランキングは全員の累積投票数で決まります
    </div>
  </div>
</header>

<main>

<!-- 投票 -->
<section>
<h2>① 投票（最大5曲）</h2>
<input id="nickname" placeholder="ニックネーム">

<div id="songList"></div>

<button onclick="vote()">投票する</button>
<div id="voteMsg"></div>
</section>

<!-- ランキング -->
<section>
<h2>② ランキング</h2>
<ul id="rank"></ul>
</section>

<!-- マイセトリ -->
<section>
<h2>③ マイセトリ (<span id="cnt">0</span>/20)</h2>
<button class="secondary" onclick="exportCSV()">CSV出力</button>
<button class="secondary" onclick="shareX()">Xで共有</button>
<ul id="myset"></ul>
</section>

</main>

<script>
/* ===== 設定 ===== */
const DEADLINE=new Date("2026-03-22T18:00:00+09:00");
const MAX_VOTE=5, MAX_SET=20;

/* ===== 曲データ ===== */
const ALBUMS=[
{name:"THE EARLY TOYBEE",songs:["全米は泣かない","それゆけ!夢みるゾンビーズ!!","Flight Music","電脳ヴィジランテ","黎明グッドルーザー","あらしのよるに","いなせ","あほんだらいふ"]},
{name:"REVIVAL",songs:["惑星ダブリス","Super Imagination","ワンタイムラヴァー","風知らぬひと","フロムアンダーランド","Teenage Black","シーラカンスと文学"]},
{name:"LOOKBACK TO THE FUTURE",songs:["LOOKBACK","Golden Age","ステルオンナ","道化師のラブソング","ライド・アンド・ライブ","S.Y.S -Save Your Souls-","TO THE FUTURE"]},
{name:"TOYROCK INVASION",songs:["TOY ROCK -TOYBEEのテーマ-","シモキタ・モーニング・ブルース","CAT GIRL","Jonnie's Rock'n'Roll Lamp","Playlist in your Heart"]},
{name:"Singles",songs:["ひとつだけ","ハナマル"]}
];

/* ===== カウントダウン ===== */
function tick(){
  const d=DEADLINE-new Date();
  if(d<=0){
    countdown.textContent="開演しました";
    return;
  }
  const s=Math.floor(d/1000);
  const dd=String(Math.floor(s/86400)).padStart(2,"0");
  const hh=String(Math.floor(s%86400/3600)).padStart(2,"0");
  const mm=String(Math.floor(s%3600/60)).padStart(2,"0");
  const ss=String(s%60).padStart(2,"0");
  countdown.textContent=`ライブ開演まであと ${dd}:${hh}:${mm}:${ss}`;
}
setInterval(tick,1000);tick();

/* ===== 曲リスト描画 ===== */
const songList=document.getElementById("songList");
ALBUMS.forEach(a=>{
  const d=document.createElement("details");
  d.className="album";
  d.innerHTML=`<summary>${a.name}</summary>`;
  a.songs.forEach(s=>{
    d.innerHTML+=`
      <label class="song">
        <input type="checkbox" value="${s}" onchange="limitCheck()">${s}
      </label>`;
  });
  songList.appendChild(d);
});

/* ===== 投票制限 ===== */
function limitCheck(){
  const c=[...document.querySelectorAll("input[type=checkbox]:checked")];
  if(c.length>MAX_VOTE){
    c[c.length-1].checked=false;
    alert("最大5曲までです");
  }
}

/* ===== ダミー処理（後でGAS接続） ===== */
function vote(){
  voteMsg.textContent="投票を受け付けました";
}
function exportCSV(){
  alert("CSV出力");
}
function shareX(){
  const url=location.href;
  const text="#toybeeリキッド";
  window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`);
}
</script>

</body>
</html>
